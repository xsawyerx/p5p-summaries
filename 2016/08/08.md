# August 8th-

## News and updates

Perl 5.22.3-RC3 is now
[available!](http://www.nntp.perl.org/group/perl.perl5.porters/238908)

Perl 5.24.1-RC3 is now
[available!](http://www.nntp.perl.org/group/perl.perl5.porters/238909)

Another friendly
[reminder](http://www.nntp.perl.org/group/perl.perl5.porters/238924)
from our friendly neighborhood BinGOs to document changes in
`perldelta` pending the release of 5.25.4.

Adding a Travis CI `.travis.yml` to perl might be nice but there
are still problems, ML:explained#238761 by Dave Mitchell.

As Jarkko Hietaniemi fixes a problem with `printf %a`, Zefram
opens several other issues.

A new version of [Encode](http://metacpan.org/pod/Encode) (2.86) is
out!

Unicode has a
[update](http://www.nntp.perl.org/group/perl.perl5.porters/238905)
Proposed Update: UTR \#51, Unicode Emoji (Version 4.0).

An interesting conversation on munging the optree, read more below.

### Grant reports

## Issues

### New issues

* [Perl #128865](http://rt.perl.org/Ticket/Display.html?id=128865):
  `File::Spec::VMS->canonpath()` incorrect with ODS\-5 style
  directory specs.
* [Perl #128867](http://rt.perl.org/Ticket/Display.html?id=128867):
  `lib/locale.t`: Test failures in threaded builds on FreeBSD 10\.3.
* [Perl #128874](http://rt.perl.org/Ticket/Display.html?id=128874):
  locale gubbins produces unavoidable noise.
* [Perl #128888](http://rt.perl.org/Ticket/Display.html?id=128888):
  `printf %a` mishandles zero precision.
* [Perl #128889](http://rt.perl.org/Ticket/Display.html?id=128889):
  `printf %a` mishandles negative pseudo\-precision.
* [Perl #128890](http://rt.perl.org/Ticket/Display.html?id=128890):
  `printf %a` rounds incorrectly.
* [Perl #128893](http://rt.perl.org/Ticket/Display.html?id=128893):
  `printf %a` botches 0 flag for negative values.
* [Perl #128894](http://rt.perl.org/Ticket/Display.html?id=128894):
  [File::Find](http://metacpan.org/pod/File::Find) `dont_use_nlink` not
  set on CIFS mount for Linux.
* [Perl #128899](http://rt.perl.org/Ticket/Display.html?id=128899):
  `printf %a` mishandles several edge cases on long doubles.
* [Perl #128901](http://rt.perl.org/Ticket/Display.html?id=128901):
  Tests fail building Perl on vmhgfs.
* [Perl #128902](http://rt.perl.org/Ticket/Display.html?id=128902):
  MakeMaker `02-xsdynamic.t` failure in AIX 5.3 with blead be93048a.
* [Perl #128909](http://rt.perl.org/Ticket/Display.html?id=128909):
  `printf %a` mishandles exponent-crossing rounding with long double.

Karl Williamson
[reported](http://www.nntp.perl.org/group/perl.perl5.porters/238933)
that blead will not compoile on certain configurations.

### Resolved issues

* [Perl #39358](http://rt.perl.org/Ticket/Display.html?id=39358):
  `sort` with custom subname and prototype `($$)` segfaults
  intermittently.
* [Perl #115166](http://rt.perl.org/Ticket/Display.html?id=115166):
  Some parts of regex engine impose I32 limit on code points.
* [Perl #116867](http://rt.perl.org/Ticket/Display.html?id=116867):
  `tr///` silently fails for code points above I32\_MAX.
* [Perl #121151](http://rt.perl.org/Ticket/Display.html?id=121151):
  Can't compile blead with g\+\+ 4\.8\.1.
* [Perl #127708](http://rt.perl.org/Ticket/Display.html?id=127708):
  Coredump in `call_sv` under threads.
* [Perl #128340](http://rt.perl.org/Ticket/Display.html?id=128340):
  in\-place sort incorrectly preserves element lvalue identity.
* [Perl #128670](http://rt.perl.org/Ticket/Display.html?id=128670):
  Out\-of\-date info on DEBUGGING in perlhacktips, perlrun.
* [Perl #128719](http://rt.perl.org/Ticket/Display.html?id=128719):
  With signatures and `my` vars: `state` variable `$y` masks earlier
  declaration.
* [Perl #128843](http://rt.perl.org/Ticket/Display.html?id=128843):
  `printf %a` mishandles subnormals.
* [Perl #128865](http://rt.perl.org/Ticket/Display.html?id=128865):
  `File::Spec::VMS->canonpath()` incorrect with ODS\-5 style
  directory specs.
* [Perl #128867](http://rt.perl.org/Ticket/Display.html?id=128867):
  `lib/locale.t`: Test failures in threaded builds on FreeBSD 10\.3.

### Rejected issues

* [Perl #123184](http://rt.perl.org/Ticket/Display.html?id=123184):
  `pos++`.

### Suggested patches

Dave Mitchell provided a new patch for adding `travis.yml` file in
[Perl #123981](http://rt.perl.org/Ticket/Display.html?id=123981).

Tony Cook provided a patch for fixing
[Perl #128263](http://rt.perl.org/Ticket/Display.html?id=128263)
(Assert fail in `Perl_magic_get` without other symptoms).

Leon Timmermans provided a patch for
[Perl #128902](http://rt.perl.org/Ticket/Display.html?id=128902)
(MakeMaker `02-xsdynamic.t` failure in AIX 5.3 with blead be93048a)
[here](https://github.com/Perl-Toolchain-Gang/ExtUtils-MakeMaker/pull/278).

## Discussion

Jarkko Hietaniemi
[asked](http://www.nntp.perl.org/group/perl.perl5.porters/238747)
if `make_ext.pl` script is required every single time `make perl` is
run. It's costly. Craig A. Berry
[provided](http://www.nntp.perl.org/group/perl.perl5.porters/238782)
some history and Nicholas Clark (who introduced this change
[chimed in](http://www.nntp.perl.org/group/perl.perl5.porters/238783)
with further explanations.

The
[discussion](http://www.nntp.perl.org/group/perl.perl5.porters/238709)
(`Internals::` undocumented) around documenting internal functions
continued.

Father Chrysostomos
[noticed](http://www.nntp.perl.org/group/perl.perl5.porters/238801)
that [Encode](http://metacpan.org/pod/Encode) uses C++ comments instead
of C comments. Perl uses C89 and guarantees support for compilers that
do not understand `//` comments.

A
[suggestion](http://www.nntp.perl.org/group/perl.perl5.porters/238859)
on how to print `Size_t` and `SSize_t` by John P. Linderman, along with
a fun anecdote about Awk, ANSI, and floats.

Michael Schroeder pinged the topic of a suggested change to
[base.pm](http://metacpan.org/pod/base). Father Chrysostomos
[responded](http://www.nntp.perl.org/group/perl.perl5.porters/238877)
with the possible problems this suggested change has.

On a fascinating
[thread](http://www.nntp.perl.org/group/perl.perl5.porters/238790)
(Flailing randomly at ops), Paul Evans (LeoNerd) asked for help
understanding munging the optree to reach a particular goal he has.
Father Chrysostomos
[provided](http://www.nntp.perl.org/group/perl.perl5.porters/238797)
insightful comments, and Paul is
[writing](http://leonerds-code.blogspot.co.uk/2016/08/perl-parser-plugins-part-1.html)
about it on his blog.
